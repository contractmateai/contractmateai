<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Contract Mate</title>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/128/18960/18960926.png" type="image/png">
  <style>
    /* [CSS omitted for brevity – identical to yours above] */
  </style>
</head>
<body>
  <header>
    <a class="logo" href="index.html">
      <img src="https://cdn-icons-png.flaticon.com/128/18960/18960926.png" alt="Logo" />
      <h1>AI ContractMate</h1>
    </a>
    <div class="menu" tabindex="0">
      <button class="menu-button">☰</button>
      <div class="menu-content">
        <a href="index.html">Home</a>
        <a href="https://www.youtube.com">See How It Works</a>
        <a href="contact.html">Contact</a>
      </div>
    </div>
  </header>

  <div class="section">
    <p style="font-size: 22px; max-width: 780px; margin: 0 auto 32px; line-height: 1.8;">
      <strong>AI ContractMate</strong> gives you instant clarity in contract reviews.<br><br>
      It helps law firms, freelancers, and students understand what they're about to sign — before even hiring a lawyer.<br><br>
      It also assists legal professionals in analyzing contracts clearly.
    </p>

    <label class="cta-button-wrapper" for="fileInput">
      <img src="https://cdn-icons-png.flaticon.com/128/18960/18960926.png" alt="Contract Icon" />
      <span>Review My Contract</span>
    </label>
    <input type="file" id="fileInput" accept=".pdf" style="display: none;" />

    <div id="analysisResult" style="margin-top: 40px; max-width: 800px; margin: 0 auto; background-color: #1c1c26; padding: 20px; border-radius: 10px; display: none;">
      <h3 style="color:#fff;">Analysis Result</h3>
      <div id="outputText" style="white-space: pre-wrap; color: #ccc;"></div>
    </div>
  </div>

  <div class="section video-placeholder">
    <h2 style="font-size: 28px; margin-bottom: 20px;">See How It Works</h2>
    <iframe src="https://www.youtube.com/embed/placeholder" title="How AI ContractMate Works" allowfullscreen></iframe>
  </div>

  <div class="section">
    <h2 style="font-size: 30px; font-weight: 600; margin-bottom: 20px;">What Our Users Say</h2>
    <div class="testimonials-container">
      <div class="testimonial">
        <span style="color: gold; font-size: 22px;">★★★★★</span><br>
        "This helped me understand a complex NDA in 30 seconds."<br>
        <strong>— Aisha M., Startup Founder</strong>
      </div>
      <div class="testimonial">
        <span style="color: gold; font-size: 22px;">★★★★★</span><br>
        "Clear, fast, and surprisingly accurate contract analysis. I love it."<br>
        <strong>— Marco T., Freelance Developer</strong>
      </div>
      <div class="testimonial">
        <span style="color: gold; font-size: 22px;">★★★★★</span><br>
        "Saves time and gives real insight into contracts without needing a lawyer."<br>
        <strong>— Linnea R., Law Student</strong>
      </div>
    </div>
  </div>

  <footer>
    <p style="color: #ccc;">Not legal advice. For informational use only.</p>
    <div class="footer-icons">
      <a href="#"><img src="https://i.pinimg.com/736x/8f/94/c6/8f94c616ec0a60bafb4de4e0260719da.jpg" alt="Instagram" /></a>
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" alt="YouTube" /></a>
      <a href="#"><img src="https://img.freepik.com/free-vector/new-2023-twitter-logo-x-icon-design_1017-45418.jpg" alt="X" /></a>
    </div>
    <p style="color: gray;">©️ 2025 AI ContractMate</p>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
  <script>
    document.getElementById("fileInput").addEventListener("change", async function(event) {
      const file = event.target.files[0];
      const resultDiv = document.getElementById("analysisResult");
      const output = document.getElementById("outputText");
      resultDiv.style.display = "block";
      output.innerText = "Reading file...";

      try {
        const pdfData = await file.arrayBuffer();
        const pdf = await pdfjsLib.getDocument({ data: pdfData }).promise;
        let text = "";

        for (let i = 1; i <= pdf.numPages; i++) {
          const page = await pdf.getPage(i);
          const content = await page.getTextContent();
          const pageText = content.items.map(item => item.str).join(" ");
          text += pageText + "\n";
        }

        output.innerText = "Sending to AI...";

        const response = await fetch("https://eofrvegf0rgkyfa.m.pipedream.net", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ text })
        });

        const data = await response.json();

        localStorage.setItem("summary", data.summary);
        localStorage.setItem("risk", data.risk);
        localStorage.setItem("clarity", data.clarity);
        localStorage.setItem("compliance", data.compliance);
        localStorage.setItem("keyClauses", JSON.stringify(data.keyClauses));
        localStorage.setItem("potentialIssues", JSON.stringify(data.potentialIssues));
        localStorage.setItem("smartSuggestions", JSON.stringify(data.smartSuggestions));

        window.location.href = "analysis.html";

      } catch (e) {
        output.innerText = "Error: " + e.message;
      }
    });
  </script>
</body>
</html>
