<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>SignSense — Analysis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="js/pdf-generator.js"></script>
  <style>
    :root {
      --bg: #0e0c13;
      --card: #1c1b22;
      --border: #3b3b3b;
      --white: #ffffff;
      --muted: #bdbdbd;
      --green: #00ff65;
      --orange: #df911a;
      --red: #fe0000;
      --black: #000000;
      --radius: 21px;
      --gap: 18px;
      --sidebar: 300px;
      --drawerW: 75vw;
      --containerMax: 428px;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body { margin: 0; background: var(--bg); color: var(--white); font: 400 16px/1.7 Inter, system-ui, Segoe UI, Roboto, Arial; overflow-x: hidden; }
    .layout { display: grid; grid-template-columns: var(--sidebar) 1fr; min-height: 100vh; }
    .main { padding: 0 20px 140px; display: grid; grid-template-rows: auto auto 1fr; gap: 12px; }
    .container { width: 100%; max-width: var(--containerMax); margin: 0 auto; padding: 12px calc(14px + env(safe-area-inset-right)) 140px calc(14px + env(safe-area-inset-left)); }
    .sidebar { background: #0f0e14; border-right: 1px solid var(--border); padding: 12px 16px 16px; position: sticky; top: 0; height: 100vh; display: flex; flex-direction: column; gap: 16px; }
    .drawer { position: fixed; left: 0; top: 0; bottom: 0; width: min(var(--drawerW), 420px); background: #0f0e14; border-right: 1px solid var(--border); display: flex; flex-direction: column; padding: 12px 16px 16px; gap: 16px; transform: translateX(-100%); transition: transform .28s ease; z-index: 80; }
    .drawer.open { transform: translateX(0); }
    .scrim { position: fixed; inset: 0; background: rgba(0,0,0,.45); opacity: 0; visibility: hidden; transition: opacity .25s ease, visibility .25s ease; z-index: 70; }
    .scrim.show { opacity: 1; visibility: visible; }
    .brand, .brand-row { display: flex; align-items: center; gap: 12px; padding-top: 4px; }
    .brand img, .brand-row img { width: 34px; height: 34px; }
    .brand span, .brand-row span { font-size: 24px; font-weight: 400; }
    .nav { display: flex; flex-direction: column; gap: 8px; margin-top: 6px; }
    .nav a { text-decoration: none; color: var(--muted); display: flex; align-items: center; gap: 12px; padding: 14px 16px; border-radius: 16px; border: 1px solid transparent; font-size: 18px; }
    .nav a img.icon { width: 22px; height: 22px; }
    .nav a img.arr { width: 16px; height: 16px; opacity: .9; }
    .nav a.active { background: #181620; border: 1px solid var(--border); color: var(--white); }
    .nav a:hover { background: transparent; border: 1px solid var(--border); color: var(--white); }
    .push { flex: 1; }
    .end, .end-only { color: var(--muted); font-size: 15px; line-height: 1.6; }
    .footer-sep { height: 1px; background: var(--border); margin: 10px 0; }
    .topbar { position: sticky; top: 0; z-index: 40; background: var(--bg); display: flex; align-items: center; justify-content: space-between; padding: 10px calc(12px + env(safe-area-inset-right)) 12px calc(12px + env(safe-area-inset-left)); height: 64px; border-bottom: 1px solid var(--border); }
    .top-left { display: flex; align-items: center; gap: 10px; }
    .menu-btn { display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 12px; border: 1px solid var(--border); background: #14121a; cursor: pointer; padding: 0; }
    .menu-btn svg { width: 20px; height: 20px; stroke: #fff; stroke-width: 2; fill: none; }
    .top-title { font-size: 20px; font-weight: 400; }
    .doc-title-top, .doc-title { margin: 10px calc(14px + env(safe-area-inset-left)) 10px calc(14px + env(safe-area-inset-right)); font-size: 18px; font-weight: 400; color: var(--white); }
    .doc-title .label, .doc-title .value { font-size: 18px; color: var(--muted); font-weight: 400; }
    .lang { position: relative; }
    .lang-btn { display: flex; align-items: center; gap: 8px; background: transparent; border: none; color: var(--white); font: 400 20px/1 Inter; cursor: pointer; padding: 6px 10px; min-width: 40px; user-select: none; }
    .lang-btn .caret { width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 7px solid #fff; opacity: .9; }
    .lang-menu { position: absolute; right: 0; top: calc(100% + 8px); background: var(--card); border: 1px solid var(--border); border-radius: 12px; min-width: 240px; max-height: 260px; overflow: auto; display: none; box-shadow: 0 10px 30px rgba(0,0,0,.4); padding: 6px; scrollbar-width: thin; scrollbar-color: #6a6a6a transparent; }
    .lang:hover .lang-menu, .lang.open .lang-menu { display: block; }
    .lang-menu::-webkit-scrollbar { width: 6px; }
    .lang-menu::-webkit-scrollbar-thumb { background: #6a6a6a; border-radius: 10px; }
    .lang-item { display: flex; align-items: center; gap: 8px; padding: 10px; border-radius: 10px; color: var(--white); cursor: pointer; }
    .lang-item:hover { background: #17161e; }
    .card { background: var(--card); border: 1px solid var(--border); border-radius: var(--radius); padding: 14px; opacity: 0; transform: translateY(8px); margin-bottom: var(--gap); }
    @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }
    .fade-in { animation: fadeIn .8s ease forwards; }
    .card h3 { margin: 0 0 10px; display: flex; align-items: center; gap: 10px; font-size: 18px; font-weight: 400; }
    .card h3 img { width: 24px; height: 24px; }
    .list { display: flex; flex-direction: column; gap: 10px; }
    .list p { margin: 0; color: var(--muted); font-size: 16px; overflow-wrap: anywhere; }
    .bullets { margin: 0; color: var(--muted); font-size: 16px; padding-left: 22px; list-style: disc; }
    .bullets li { margin: 0 0 10px; }
    .numbered { counter-reset: item; }
    .numbered p { position: relative; padding-left: 26px; margin: 0 0 10px; }
    .numbered p::before { counter-increment: item; content: counter(item) "."; position: absolute; left: 0; top: 0; color: var(--muted); }
    .meter-block { display: flex; flex-direction: column; gap: 10px; }
    .meter-head { display: flex; align-items: center; justify-content: space-between; }
    .meter-title { display: flex; align-items: flex-start; gap: 10px; font-size: 16px; }
    .meter-title img { width: 24px; height: 24px; margin-top: 0px; }
    .meter { height: 10px; border-radius: 999px; background: var(--black); overflow: hidden; }
    .fill { height: 100%; width: 0%; transition: width 1.6s ease; border-radius: 999px; }
    .hcard { display: flex; gap: 12px; align-items: center; }
    .circle { width: 110px; height: 110px; position: relative; display: grid; place-items: center; flex: 0 0 110px; }
    .circle svg { transform: rotate(-90deg); }
    .circle .val { position: absolute; font-weight: 400; font-size: 26px; }
    .circle circle.track { stroke: var(--black); stroke-width: 14; fill: none; }
    .circle circle.arc { stroke-width: 14; fill: none; stroke-linecap: round; stroke-dasharray: 440; stroke-dashoffset: 440; transition: stroke-dashoffset 1.8s ease; filter: blur(0.5px); }
    .htext { flex: 1; display: flex; flex-direction: column; gap: 4px; }
    .muted { color: var(--muted); font-size: 15px; }
    #riskCard .muted, #clarCard .muted { font-size: 13.5px; line-height: 1.5; }
    .status { display: flex; align-items: center; gap: 8px; margin-top: 4px; }
    .status .dot { width: 10px; height: 10px; border-radius: 2px; background: var(--green); }
    .status span { font-size: 15px; }
    #riskCard, #clarCard { padding: 12px 12px; }
    #scoreCard .score-center { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; text-align: center; }
    #scoreCard .score-pct { font-size: 30px; }
    .score-side {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-left: 25px;   /* ✅ pushes everything right */
}

    .score-remark { font-size: 16px; color: var(--muted); }
    .score-bar { position: relative; height: 26px; border-radius: 14px; background: linear-gradient(90deg,#ff6b6b 0%, #ffd166 45%, #00e676 100%); border: 1px solid #2f2f2f; box-shadow: inset 0 1px 0 rgba(255,255,255,.05); width: 100%; }
    .score-ind { position: absolute; top: -6px; height: 30px; width: 3px; background: #fff; border-radius: 2px; left: calc(80% - 1.5px); box-shadow: 0 0 8px rgba(255,255,255,.6); }
    .score-scale {
  display: flex;
  justify-content: space-between;
  font-size: 14px;
  color: var(--muted);
  margin-left: 25px;   /* ✅ aligns labels with the shifted bar */
}

    .download-wrap { position: fixed; left: 0; right: 0; bottom: calc(20px + env(safe-area-inset-bottom)); display: none; justify-content: center; z-index: 60; opacity: 0; transform: translateY(8px); }
    .download { background: #f2f9fe; color: #000; border: 1px solid #cfcfcf; border-radius: 16px; padding: 16px 26px; display: inline-flex; gap: 12px; align-items: center; cursor: pointer; font-weight: 400; font-size: 18px; box-shadow: 0 6px 28px rgba(0,0,0,.28); }
    .modal { position: fixed; inset: 0; background: rgba(0,0,0,.6); display: none; align-items: center; justify-content: center; z-index: 100; }
    .modal-card { background: #141319; border: 1px solid var(--border); border-radius: 18px; padding: 18px; width: min(480px,92vw); }
    .modal-card h4 { margin: 0 0 10px; font-size: 18px; font-weight: 400; }
    .modal-row { display: flex; gap: 10px; margin-top: 12px; }
    .input { flex: 1; background: #0f0e14; border: 1px solid #5a5a5a; border-radius: 10px; padding: 12px; color: #fff; font: 400 15px/1 Inter; }
    .btn { background: #0f0e14; border: 1px solid var(--border); color: #fff; border-radius: 10px; padding: 12px 14px; cursor: pointer; }
    .btn.primary { background: #f2f9fe; color: #000; border-color: #cfcfcf; }
    .email-inline { display: none; flex-direction: column; gap: 8px; width: min(92vw, 340px); background: #141319; border: 1px solid var(--border); border-radius: 14px; padding: 10px 12px; box-shadow: 0 6px 28px rgba(0,0,0,.28); }
    .email-title { font-size: 14px; color: #bdbdbd; margin-bottom: 2px; }
    .email-row { display: flex; align-items: center; gap: 8px; }
    .email-inline .input { flex: 1; background: #0f0e14; border: 1px solid #5a5a5a; border-radius: 10px; padding: 10px 12px; color: #fff; font: 400 16px/1 Inter; }
    .email-inline .input:focus { outline: none; box-shadow: none; border-color: #5a5a5a; background: #0f0e14; color: #fff; }
    .email-err { color: #ff6b6b; font-size: 13px; display: none; }
    #emailInline .btn { padding: 7px 8px; border-radius: 8px; flex-shrink: 0; }
    #emailInline .btn.primary { padding: 7px 8px; font-size: 15px; font-weight: 500; }
    #emailInline .email-title { color: #f2f9fe; }
    @media (min-width: 981px) {
      /* ✅ Move titles, icons, sentences, badges, bar – slightly left */
.right .htext {
  margin-left: 10px !important;  /* pushes content to the right */
}


/* ✅ Score Checker text block slightly left */
#scoreCard .score-side {
  margin-left: 20px !important;   /* pushes everything right */
}



/* ✅ Two-line clean wrapping for risk & clarity descriptions */
#riskCard .muted,
#clarCard .muted {
  max-width: 420px !important;
}

/* ✅ Align “Generally Safe / High Risk” status row better */
.status {
  margin-left: -4px !important;
}

/* ✅ Move the scale (Unsafe–Safe–Very Safe) left slightly */
.score-scale {
  margin-left: 20px !important;   /* aligns Unsafe/Safe/Very Safe */
}


      .drawer, .scrim, .menu-btn, .doc-title-top, .email-inline { display: none !important; }
      .download-wrap { left: var(--sidebar); }
      .grid { display: grid; grid-template-columns: minmax(560px, 1.25fr) minmax(560px, 1fr); gap: var(--gap); align-items: start; margin-top: 6px; }
      .left, .right { display: flex; flex-direction: column; gap: var(--gap); }
      .card { padding: 14px 14px 16px !important; }
      .card h3 { font-size: 24px; }
      .card h3 img { width: 30px; height: 30px; }
      .list p, .bullets li { font-size: 20px; }
      .meter-title { font-size: 22px; }
      .meter-title img { width: 32px; height: 32px; }
/* ✅ Bigger charts */
/* ✅ MUCH BIGGER CIRCLE */
.circle {
  width: 180px !important;
  height: 180px !important;
  flex: 0 0 180px !important;
    margin-left: 0px !important;   /* moves circle right */

}


/* ✅ keep percentage text same size (you already have this, keep it) */
.circle .val {
  font-size: 30px !important;
}



      .muted { font-size: 18px; }
      .status span { font-size: 17px; }
      .score-pct { font-size: 42px; }
      .score-remark { font-size: 20px; }
.score-bar {
  height: 26px !important;   /* thicker bar */
  width: 90% !important;     /* extends slightly */
}


      .score-ind { height: 34px; }
      .score-scale { font-size: 16px; }
      .modal { z-index: 20; }
.hcard {
  gap: 18px !important; /* a bit closer to the circle */
}

.htext {
  margin-left: 10px !important;   /* moves ALL right-side content 10px RIGHT */
  padding-left: 0 !important;
}




/* ✅ Bigger static subtext for readability */
#riskCard .muted,
#clarCard .muted {
  font-size: 17px !important;
  line-height: 1.45 !important;
  max-width: 430px !important;   /* ensures 2 lines */
}


/* ✅ Status label (Generally Safe) moved right */
.status span {
  font-size: 20px !important;
  margin-left: 4px;
}
    @media (max-width: 980px) {
      .layout { grid-template-columns: 1fr; }
      .sidebar, .modal { display: none !important; }
      .main { padding: 0; }
      .download-wrap { left: 0; }
      .circle { width: 110px; height: 110px; flex: 0 0 110px; }
      .circle .val { font-size: 26px; }
      .card h3 { font-size: 18px; }
      .card h3 img { width: 24px; height: 24px; }
      .list p, .bullets li { font-size: 16px; }
      .meter-title { font-size: 16px; }
      .meter-title img { width: 24px; height: 24px; }
      .muted { font-size: 15px; }
      .status span { font-size: 15px; }
      .score-pct { font-size: 30px; }
      .score-remark { font-size: 16px; }
      .score-bar { height: 20px; }
      .score-ind { height: 30px; }
      .score-scale { font-size: 14px; }
      .card { padding: 14px; }
    }
    @media (max-width: 420px) {
      .email-row { flex-wrap: nowrap; }
      .email-inline { width: min(92vw, 320px); }
    }
    .brand a {
  text-decoration: none !important;
  color: #fff !important;
}
.brand span {
  color: #fff !important;
  font-size: 24px;
  position: relative;
  top: -5px;
}


  </style>
</head>
<body>
  <div id="scrim" class="scrim" aria-hidden="true"></div>
  <aside id="drawer" class="drawer" aria-label="Menu" aria-hidden="true">
    <div class="brand-row">
      <img src="https://imgur.com/Z5hv7K9.png" alt="SignSense logo">
      <span>SignSense</span>
    </div>
    <nav class="nav">
      <a class="active" href="#"><img class="arr" src="https://imgur.com/CHGomYz.png" alt=""><img class="icon" src="https://imgur.com/lnQTDuo.png" alt=""><span>Overview</span></a>
      <a href="index.html"><img class="arr" src="https://imgur.com/xhkeG0y.png" alt=""><img class="icon" src="https://imgur.com/kE3okdE.png" alt=""><span>Home</span></a>
      <a href="privacy.html"><img class="arr" src="https://imgur.com/xhkeG0y.png" alt=""><img class="icon" src="https://imgur.com/krMnFVT.png" alt=""><span>Privacy</span></a>
      <a href="#"><img class="arr" src="https://imgur.com/xhkeG0y.png" alt=""><img class="icon" src="https://imgur.com/6zHviT6.png" alt=""><span>Contact Us</span></a>
      <a href="#" id="leaveReview"><img class="arr" src="https://imgur.com/xhkeG0y.png" alt=""><img class="icon" src="https://imgur.com/zwr9SOe.png" alt=""><span>Add a Review</span></a>
    </nav>
    <div class="push"></div>
    <div class="end">
      <div>All rights reserved.</div>
      <div>© 2025 SignSense</div>
      <div class="footer-sep"></div>
      <div>Not legal advice.<br>For informational use only.</div>
    </div>
  </aside>
  <div class="layout">
    <aside class="sidebar">
      <div class="brand">
        <a href="index.html" aria-label="Go to homepage">
          <img src="https://imgur.com/Z5hv7K9.png" alt="SignSense logo" />
          <span>SignSense</span>
        </a>
      </div>
      <nav class="nav">
        <a class="active" href="#"><img class="arr" src="https://imgur.com/CHGomYz.png" alt=""><img class="icon" src="https://imgur.com/lnQTDuo.png" alt=""><span>Overview</span></a>
        <a href="index.html"><img class="arr" src="https://imgur.com/xhkeG0y.png" alt=""><img class="icon" src="https://imgur.com/kE3okdE.png" alt=""><span>Home</span></a>
        <a href="privacy.html"><img class="arr" src="https://imgur.com/xhkeG0y.png" alt=""><img class="icon" src="https://imgur.com/krMnFVT.png" alt=""><span>Privacy</span></a>
        <a href="#"><img class="arr" src="https://imgur.com/xhkeG0y.png" alt=""><img class="icon" src="https://imgur.com/6zHviT6.png" alt=""><span>Contact Us</span></a>
        <a href="#" id="leaveReview2"><img class="arr" src="https://imgur.com/xhkeG0y.png" alt=""><img class="icon" src="https://imgur.com/zwr9SOe.png" alt=""><span>Add a Review</span></a>
      </nav>
      <div class="push"></div>
      <div class="end-only" id="sidebarEnd">
        <div class="legal">All rights reserved.</div>
        <div class="copy2">© 2025 SignSense</div>
        <div class="footer-sep"></div>
        <div class="copy">Not legal advice.<br>For informational use only.</div>
      </div>
    </aside>
    <main class="main">
      <div class="topbar">
        <div class="top-left">
          <button id="menuBtn" class="menu-btn" aria-label="Open menu">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6.5h18M3 12h18M3 17.5h18" /></svg>
          </button>
          <div class="top-title" id="uiOverview">Overview</div>
        </div>
        <div class="lang" id="lang">
          <button class="lang-btn" id="langBtn" type="button">
            <span id="langNow">EN</span><span class="caret" aria-hidden="true"></span>
          </button>
          <div class="lang-menu" id="langMenu" role="listbox" aria-label="Report Language">
            <div class="lang-item" data-code="en">English</div>
            <div class="lang-item" data-code="it">Italiano</div>
            <div class="lang-item" data-code="de">Deutsch</div>
            <div class="lang-item" data-code="es">Español</div>
            <div class="lang-item" data-code="fr">Français</div>
            <div class="lang-item" data-code="pt">Português</div>
            <div class="lang-item" data-code="nl">Nederlands</div>
            <div class="lang-item" data-code="ro">Română</div>
            <div class="lang-item" data-code="sq">Shqip</div>
            <div class="lang-item" data-code="tr">Türkçe</div>
            <div class="lang-item" data-code="zh">中文</div>
            <div class="lang-item" data-code="ja">日本語</div>
          </div>
        </div>
      </div>
      <div class="doc-title">
        <span class="label" id="uiTitleLabel">Title:</span>
        <span class="value" id="uiTitleValue">—</span>
      </div>
      <div class="grid">
        <div class="left">
          <section class="card" id="summaryCard">
            <h3><img src="https://imgur.com/CuQFbD7.png" alt=""><span id="uiSummary">Summary</span></h3>
            <div class="list" id="summaryText"></div>
          </section>
          <section class="card meter-block" id="profCard">
            <div class="meter-head">
              <div class="meter-title"><img src="https://imgur.com/EdMAMnx.png" alt=""><span id="uiProfessionalism">Professionalism</span></div>
              <div id="confVal">0%</div>
            </div>
            <div class="meter"><div id="confFill" class="fill"></div></div>
          </section>
          <section class="card meter-block" id="favCard">
            <div class="meter-head">
              <div class="meter-title"><img src="https://imgur.com/UDRuIvO.png" alt=""><span id="uiFavorability">Favorability Index</span></div>
              <div id="favVal">0%</div>
            </div>
            <div class="meter"><div id="favFill" class="fill"></div></div>
          </section>
          <section class="card meter-block" id="deadCard">
            <div class="meter-head">
              <div class="meter-title"><img src="https://imgur.com/VXZ3kD8.png" alt=""><span id="uiDeadline">Deadline pressure</span></div>
              <div id="deadVal">0%</div>
            </div>
            <div class="meter"><div id="deadFill" class="fill"></div></div>
          </section>
          <section class="card" id="issuesCard">
            <h3><img src="https://imgur.com/ppLDtiq.png" alt=""><span id="uiIssues">Potential Issues</span></h3>
            <ul class="bullets" id="issuesList"></ul>
          </section>
          <section class="card" id="suggestionsCard">
            <h3><img src="https://imgur.com/EoVDfd5.png" alt=""><span id="uiSuggestions">Smart Suggestions</span></h3>
            <div class="list numbered" id="suggestionsList"></div>
          </section>
        </div>
        <div class="right">
          <section class="card" id="riskCard">
            <div class="hcard">
              <div class="circle">
         <svg width="140" height="140" viewBox="0 0 140 140">
  <circle class="track" cx="70" cy="70" r="64" stroke-width="12" fill="none"></circle>
  <circle id="riskArc" class="arc" cx="70" cy="70" r="64" stroke-width="12" fill="none"></circle>
</svg>


                <div class="val" id="riskVal">0%</div>
              </div>
              <div class="htext">
                <h3 style="margin-bottom:0"><img src="https://imgur.com/Myp6Un4.png" alt=""><span id="uiRisk">Risk Level</span></h3>
                <div class="muted" id="riskNote"></div>
                <div class="status"><span class="dot" id="riskDot"></span><span id="riskBadge">Generally Safe</span></div>
              </div>
            </div>
          </section>
          <section class="card" id="clarCard">
            <div class="hcard">
              <div class="circle">
<svg width="140" height="140" viewBox="0 0 140 140">
  <circle class="track" cx="70" cy="70" r="64" stroke-width="12" fill="none"></circle>
  <circle id="clarArc" class="arc" cx="70" cy="70" r="64" stroke-width="12" fill="none"></circle>
</svg>


                <div class="val" id="clarVal">0%</div>
              </div>
              <div class="htext">
                <h3 style="margin-bottom:0"><img src="https://imgur.com/o39xZtC.png" alt=""><span id="uiClarity">Clause Clarity</span></h3>
                <div class="muted" id="clarNote"></div>
                <div class="status"><span class="dot" id="clarDot"></span><span id="clarBadge">Generally Safe</span></div>
              </div>
            </div>
          </section>
          <section class="card" id="clausesCard">
            <h3><img src="https://imgur.com/K04axKU.png" alt=""><span id="uiClauses">Main Clauses</span></h3>
            <div class="list numbered" id="clausesList"></div>
          </section>
          <section class="card" id="scoreCard">
            <div class="hcard">
              <div class="circle">
<svg width="140" height="140" viewBox="0 0 140 140">
  <circle class="track" cx="70" cy="70" r="64" stroke-width="12" fill="none"></circle>
  <circle id="scoreArc" class="arc" cx="70" cy="70" r="64" stroke-width="12" fill="none"></circle>
</svg>


                <div class="val" id="scorePct">80%</div>
              </div>
              <div class="score-side">
                <h3 style="margin-bottom:0"><img src="https://imgur.com/mFvyCj7.png" alt=""><span id="uiScoreChecker">Score Checker</span></h3>
                <div class="score-remark" id="scoreRemark">Determines the overall score.</div>

                <div class="score-bar"><span class="score-ind" id="scoreInd"></span></div>
               <div class="score-scale">
  <span id="scaleUnsafe">Unsafe</span>
  <span id="scaleSafe">Safe</span>
  <span id="scaleVerySafe">Very Safe</span>
</div>
              </div>
            </div>
          </section>
          <section class="card meter-block" id="confRightCard">
            <div class="meter-head">
              <div class="meter-title"><img src="https://imgur.com/nUGfg96.png" alt=""><span id="uiConfidence">Confidence to sign freely</span></div>
              <div id="conf2Val">0%</div>
            </div>
            <div class="meter"><div id="conf2Fill" class="fill"></div></div>
          </section>
        </div>
      </div>
    </main>
  </div>
  <div class="download-wrap" id="dlWrap">
    <button class="download" id="downloadBtn">Download Report</button>
    <form id="emailInline" class="email-inline" novalidate>
      <div class="email-title">Insert email to download</div>
      <div class="email-row">
        <input id="emailInputInline" class="input" type="email" inputmode="email" placeholder="you@example.com" />
        <button class="btn primary" id="emailGo" type="submit">Done</button>
      </div>
      <div id="emailErrInline" class="email-err">Please enter a valid email address.</div>
    </form>
  </div>
  <div class="modal" id="emailModal" aria-modal="true" role="dialog">
    <div class="modal-card">
      <h4>Enter your email to download the PDF report</h4>
      <div class="modal-row">
        <input id="emailInputModal" class="input" type="email" inputmode="email" placeholder="you@example.com" />
        <button class="btn primary" id="emailSubmit">Download</button>
        <button class="btn" id="emailCancel">Cancel</button>
      </div>
      <div id="emailErrModal" class="email-err">Please enter a valid email address.</div>
    </div>
  </div>
<script>
(() => {
  const UI = {
    en: { overview:"Overview", title:"Title:", summary:"Summary", prof:"Professionalism",
          fav:"Favorability Index", deadline:"Deadline pressure", issues:"Potential Issues",
          suggestions:"Smart Suggestions", risk:"Risk Level", clarity:"Clause Clarity",
          clauses:"Main Clauses", score:"Score Checker", unsafe:"Unsafe", safe:"Safe",
          verysafe:"Very Safe", conf:"Confidence to sign freely",
          scoreLine:"Determines the overall score." },
    it: { overview:"Panoramica", title:"Titolo:", summary:"Riepilogo", prof:"Professionalità",
          fav:"Indice di favore", deadline:"Pressione delle scadenze", issues:"Problemi potenziali",
          suggestions:"Suggerimenti intelligenti", risk:"Livello di rischio", clarity:"Chiarezza delle clausole",
          clauses:"Clausole principali", score:"Controllo del punteggio", unsafe:"Non sicuro",
          safe:"Sicuro", verysafe:"Molto sicuro", conf:"Fiducia per firmare liberamente",
          scoreLine:"Determina il punteggio complessivo." },
    de: { overview:"Übersicht", title:"Titel:", summary:"Zusammenfassung", prof:"Professionalität",
          fav:"Günstigkeitsindex", deadline:"Fristdruck", issues:"Mögliche Probleme",
          suggestions:"Intelligente Vorschläge", risk:"Risikostufe", clarity:"Klauselklarheit",
          clauses:"Hauptklauseln", score:"Punktprüfer", unsafe:"Unsicher", safe:"Sicher",
          verysafe:"Sehr sicher", conf:"Vertrauen zum freien Unterzeichnen",
          scoreLine:"Bestimmt die Gesamtbewertung." },
    es: { overview:"Resumen", title:"Título:", summary:"Resumen", prof:"Profesionalismo",
          fav:"Índice de favorabilidad", deadline:"Presión de plazos", issues:"Problemas potenciales",
          suggestions:"Sugerencias inteligentes", risk:"Nivel de riesgo", clarity:"Claridad de las cláusulas",
          clauses:"Cláusulas principales", score:"Verificador de puntaje", unsafe:"Inseguro",
          safe:"Seguro", verysafe:"Muy seguro", conf:"Confianza para firmar libremente",
          scoreLine:"Determina la puntuación general." },
    fr: { overview:"Aperçu", title:"Titre:", summary:"Résumé", prof:"Professionnalisme",
          fav:"Indice de favorabilité", deadline:"Pression des délais", issues:"Problèmes potentiels",
          suggestions:"Suggestions intelligentes", risk:"Niveau de risque", clarity:"Clarté des clauses",
          clauses:"Clauses principales", score:"Vérificateur de score", unsafe:"Non sécurisé",
          safe:"Sûr", verysafe:"Très sûr", conf:"Confiance pour signer librement",
          scoreLine:"Détermine le score global." },
    pt: { overview:"Visão geral", title:"Título:", summary:"Resumo", prof:"Profissionalismo",
          fav:"Índice de favorabilidade", deadline:"Pressão de prazos", issues:"Problemas potenciais",
          suggestions:"Sugestões inteligentes", risk:"Nível de risco", clarity:"Clareza das cláusulas",
          clauses:"Cláusulas principais", score:"Verificador de pontuação", unsafe:"Inseguro",
          safe:"Seguro", verysafe:"Muito seguro", conf:"Confiança para assinar livremente",
          scoreLine:"Determina a pontuação geral." },
    nl: { overview:"Overzicht", title:"Titel:", summary:"Samenvatting", prof:"Professionaliteit",
          fav:"Gunstigheidsindex", deadline:"Deadlinedruk", issues:"Mogelijke problemen",
          suggestions:"Slimme suggesties", risk:"Risiconiveau", clarity:"Helderheid van clausules",
          clauses:"Hoofdclausules", score:"Scorecontroleur", unsafe:"Onveilig", safe:"Veilig",
          verysafe:"Zeer veilig", conf:"Vertrouwen om vrij te ondertekenen",
          scoreLine:"Bepaalt de totale score." },
    ro: { overview:"Prezentare generală", title:"Titlu:", summary:"Rezumat", prof:"Profesionalism",
          fav:"Indice de favorabilitate", deadline:"Presiune termene", issues:"Probleme potențiale",
          suggestions:"Sugestii inteligente", risk:"Nivel de risc", clarity:"Claritate clauze",
          clauses:"Clauze principale", score:"Verificator scor", unsafe:"Nesigur", safe:"Sigur",
          verysafe:"Foarte sigur", conf:"Încredere pentru a semna liber",
          scoreLine:"Determină scorul general." },
    sq: { overview:"Përmbledhje", title:"Titull:", summary:"Përmbledhje", prof:"Profesionalizëm",
          fav:"Indeksi i favorshmërisë", deadline:"Presioni i afateve", issues:"Probleme të mundshme",
          suggestions:"Sugjerime të zgjuara", risk:"Niveli i rrezikut", clarity:"Qartësia e klauzolave",
          clauses:"Klauzola kryesore", score:"Kontrollues i rezultatit", unsafe:"I pasigurt",
          safe:"I sigurt", verysafe:"Shumë i sigurt", conf:"Besim për të nënshkruar lirisht",
          scoreLine:"Përcakton rezultatin e përgjithshëm." },
    tr: { overview:"Genel Bakış", title:"Başlık:", summary:"Özet", prof:"Profesyonellik",
          fav:"Olumluluk Endeksi", deadline:"Son Tarih Baskısı", issues:"Olası Sorunlar",
          suggestions:"Akıllı Öneriler", risk:"Risk Seviyesi", clarity:"Madde Açıklığı",
          clauses:"Ana Maddeler", score:"Puan Denetleyicisi", unsafe:"Güvensiz", safe:"Güvenli",
          verysafe:"Çok güvenli", conf:"Serbestçe imzalama güveni",
          scoreLine:"Genel puanı belirler." },
    zh: { overview:"概览", title:"标题:", summary:"摘要", prof:"专业性",
          fav:"有利指数", deadline:"期限压力", issues:"潜在问题", suggestions:"智能建议",
          risk:"风险水平", clarity:"条款清晰度", clauses:"主要条款", score:"分数检查器",
          unsafe:"不安全", safe:"安全", verysafe:"非常安全", conf:"自由签署的信心",
          scoreLine:"确定总体评分。" },
    ja: { overview:"概要", title:"タイトル:", summary:"要約", prof:"プロフェッショナリズム",
          fav:"有利指数", deadline:"期限の圧力", issues:"潜在的な問題", suggestions:"スマートな提案",
          risk:"リスクレベル", clarity:"条項の明確さ", clauses:"主要な条項", score:"スコアチェッカー",
          unsafe:"安全でない", safe:"安全", verysafe:"非常に安全", conf:"自由に署名する自信",
          scoreLine:"総合スコアを決定します。" }
  };

  const $ = s => document.querySelector(s);
  const clamp = v => Math.max(0, Math.min(100, Number(v||0)));
  const addP = (el,t) => { const p=document.createElement('p'); p.textContent=t; el.appendChild(p); };

  // --- LOAD DATA SAFELY ---
  let raw = localStorage.getItem("analysisRaw");
  let data;
  try {
    data = raw ? JSON.parse(raw) : null;
  } catch (e) {
    console.error("Failed to parse analysisRaw:", e);
    data = null;
  }

  // --- FALLBACK DATA (same as your old demo) ---
  const fallback = {
    contractName: "Sample Contract",
    contractTitle: "Non-Disclosure Agreement",
    detectedLang: "en",
    analysis: {
      summary: ["This is a demo summary.", "Everything is working.", "Translation is active."],
      risk: { value: 30, note: "Low risk detected." },
      clarity: { value: 75, note: "Clear and readable." },
      mainClauses: ["Clause 1", "Clause 2", "Clause 3"],
      potentialIssues: ["Minor issue"],
      smartSuggestions: ["Add a clause", "Clarify terms", "Include dates"],
      scoreChecker: { value: 70, line: "Determines the overall score." },
      bars: { professionalism: 90, favorabilityIndex: 80, deadlinePressure: 20, confidenceToSign: 85 }
    }
  };

  // Use real data or fallback
  data = data || fallback;
  let currentLang = data.detectedLang || "en";

  // --- RENDER TITLES ---
  const renderTitles = lang => {
    const t = UI[lang] || UI.en;
    $('#uiOverview').textContent   = t.overview;
    $('#uiTitleLabel').textContent = t.title;
    $('#uiSummary').textContent    = t.summary;
    $('#uiProfessionalism').textContent = t.prof;
    $('#uiFavorability').textContent    = t.fav;
    $('#uiDeadline').textContent        = t.deadline;
    $('#uiIssues').textContent          = t.issues;
    $('#uiSuggestions').textContent     = t.suggestions;
    $('#uiRisk').textContent            = t.risk;
    $('#uiClarity').textContent         = t.clarity;
    $('#uiClauses').textContent         = t.clauses;
    $('#uiScoreChecker').textContent    = t.score;
    $('#uiConfidence').textContent      = t.conf;
    $('#scaleUnsafe').textContent = t.unsafe;
    $('#scaleSafe').textContent   = t.safe;
    $('#scaleVerySafe').textContent = t.verysafe;
  };

  // --- RENDER AI CONTENT ---
  const renderAI = lang => {
    const a = data.analysis;
    $('#uiTitleValue').textContent = data.contractTitle || data.contractName || "—";

    const sumBox = $('#summaryText'); sumBox.innerHTML='';
    (a.summary||[]).forEach(s=>addP(sumBox,s));

    const clBox = $('#clausesList'); clBox.innerHTML='';
    (a.mainClauses||[]).forEach(c=>addP(clBox,c));

    const issBox = $('#issuesList'); issBox.innerHTML='';
    (a.potentialIssues||[]).forEach(i=>{ const li=document.createElement('li'); li.textContent=i; issBox.appendChild(li); });

    const sugBox = $('#suggestionsList'); sugBox.innerHTML='';
    (a.smartSuggestions||[]).forEach(s=>addP(sugBox,s));

    $('#riskNote').textContent = a.risk?.note || "";
    $('#clarNote').textContent = a.clarity?.note || "";

    const sc = a.scoreChecker || {};
    const overall = clamp(sc.value);
    const t = UI[lang] || UI.en;
    $('#scoreRemark').textContent = sc.line?.trim() || t.scoreLine;
    $('#scoreInd').style.left = `calc(${overall}% - 1.5px)`;

    const arc = $('#scoreArc');
    const circ = 2 * Math.PI * 64;
    arc.style.strokeDashoffset = circ * (1 - overall/100);
    arc.style.stroke = overall < 34 ? '#fe0000' : overall < 67 ? '#df911a' : '#00ff65';
    $('#scorePct').textContent = overall + '%';
  };

  // --- FULL RENDER ---
  const renderAll = lang => {
    currentLang = lang;
    $('#langNow').textContent = lang.toUpperCase();
    renderTitles(lang);
    renderAI(lang);
  };

  // --- LANGUAGE SWITCHER ---
  document.querySelectorAll('.lang-item').forEach(item => {
    item.addEventListener('click', () => {
      const code = item.getAttribute('data-code');
      renderAll(code);
    });
  });

  // --- INITIAL RENDER ---
  renderAll(currentLang);

  // --- HOVER MENU ---
  const langBox = $('#lang');
  let closeTimer;
  const open = () => { clearTimeout(closeTimer); langBox.classList.add('open'); };
  const scheduleClose = () => { clearTimeout(closeTimer); closeTimer=setTimeout(()=>langBox.classList.remove('open'),140); };
  ['mouseenter','mousemove'].forEach(ev=>langBox.addEventListener(ev,open));
  langBox.addEventListener('mouseleave',scheduleClose);
})();
</script>
</body>
</html>
